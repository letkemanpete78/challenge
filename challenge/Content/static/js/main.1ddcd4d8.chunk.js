(this.webpackJsonpskills=this.webpackJsonpskills||[]).push([[0],{16:function(t,e){},17:function(t,e,n){},18:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n(1),c=n(8),i=n.n(c),o=n(10),s=n(2),l=n(3),d=n(5),h=n(4),u=function(){return Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{}),Object(a.jsx)("th",{children:"First Name"}),Object(a.jsx)("th",{children:"Last Name"}),Object(a.jsx)("th",{children:"Email"}),Object(a.jsx)("th",{children:"Remove"})]})})},j=function(t){var e=t.characterData.map((function(e,n){return Object(a.jsxs)("tr",{onClick:function(){return t.onClickHandler(e.ID)},children:[Object(a.jsx)("td",{children:"Edit"}),Object(a.jsx)("td",{children:e.FirstName}),Object(a.jsx)("td",{children:e.LastName}),Object(a.jsx)("td",{children:e.Email}),Object(a.jsx)("td",{children:Object(a.jsx)("button",{onClick:function(){return t.removeCharacter(n)},children:"Delete"})})]},n)}));return Object(a.jsx)("tbody",{children:e})},m=function(t){var e=t.characterData,n=t.removeCharacter,r=t.onClickHandler;return Object(a.jsx)("div",{class:"scroll",children:Object(a.jsxs)("table",{class:"striped-table",children:[Object(a.jsx)(u,{}),Object(a.jsx)(j,{characterData:e,removeCharacter:n,onClickHandler:r})]})})},b=n(7);function p(t){var e=document.getElementById("cleared");null!==e&&(e.innerHTML=t)}var f=function(t){Object(d.a)(n,t);var e=Object(h.a)(n);function n(t){var a;return Object(s.a)(this,n),(a=e.call(this,t)).handleChange=function(t,e){var n,r=e.target,c=r.name,i=r.value;a.setState((n={},Object(b.a)(n,c,i),Object(b.a)(n,"ID",t),n))},a.onFormSubmit=function(t){t.preventDefault();var e=a.state,n=e.FirstName,r=e.LastName,c=e.Email;null!=a.props.editRecord&&(""===n&&(n=a.props.editRecord.FirstName),""===r&&(r=a.props.editRecord.LastName),""===c&&(c=a.props.editRecord.Email)),a.props.handleSubmit(n,r,c,a.state.ID),a.setState(a.initialState)},a.clearValues=function(t){p("true"),a.setState(a.initialState)},a.initialState={ID:"",FirstName:"",LastName:"",Email:""},a.state=a.initialState,a}return Object(l.a)(n,[{key:"render",value:function(){var t=this,e=this.state,n=e.FirstName,r=e.LastName,c=e.Email,i=e.ID,o="Add Record";return!function(){var t=document.getElementById("cleared");return null===t?(console.log("not found!"),!1):"true"===t.innerHTML}()?(p(!1),null!=this.props.editRecord&&(o="Update Record",""!==i?(""===n&&(n=this.props.editRecord.FirstName),""===r&&(r=this.props.editRecord.LastName),""===c&&(c=this.props.editRecord.Email)):(n=this.props.editRecord.FirstName,r=this.props.editRecord.LastName,c=this.props.editRecord.Email,i=this.props.editRecord.ID))):(n="",r="",c="",i=""),Object(a.jsxs)("span",{children:[Object(a.jsx)("h3",{children:o}),Object(a.jsxs)("form",{onSubmit:this.onFormSubmit,children:[Object(a.jsx)("span",{style:{display:"none"},id:"cleared",children:"false"}),Object(a.jsx)("input",{type:"hidden",value:i,name:"ID",id:"ID"}),Object(a.jsx)("label",{htmlFor:"FirstName",children:"First Name"}),Object(a.jsx)("input",{type:"text",name:"FirstName",id:"FirstName",value:n,onChange:function(e){return t.handleChange(i,e)}}),Object(a.jsx)("label",{htmlFor:"LastName",children:"Last Name"}),Object(a.jsx)("input",{type:"text",name:"LastName",id:"LastName",value:r,onChange:function(e){return t.handleChange(i,e)}}),Object(a.jsx)("label",{htmlFor:"Email",children:"Email"}),Object(a.jsx)("input",{type:"text",name:"Email",id:"Email",value:c,onChange:function(e){return t.handleChange(i,e)}}),Object(a.jsx)("button",{type:"submit",children:o}),Object(a.jsx)("span",{children:"\xa0"}),Object(a.jsx)("button",{type:"button",onClick:function(e){return t.clearValues(e)},children:"Clear Values"})]})]})}}]),n}(r.Component),O=n(9),v=n.n(O);function x(t){var e=document.getElementById("cleared");null!==e&&(e.innerHTML=t)}var C=function(t){Object(d.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=e.call.apply(e,[this].concat(r))).state={characters:[],editRecord:null},t.handleHTTPGetError=function(t){console.log("Failed to fetch via get.")},t.handleHTTPDeleteError=function(t){console.log("Failed to fetch via delete.")},t.handleHTTPPostError=function(t){console.log("Failed to fetch via post.")},t.removeCharacter=function(e){var n=t.state.characters,a="";t.setState({characters:n.filter((function(t,n){return a=t.ID,n!==e}))}),fetch("http://localhost:49713/api/ContactAPI/"+a,{method:"DELETE"}).catch((function(e){return t.handleHTTPDeleteError(e)}))},t.onClickHandler=function(e){var n=t.state.characters;x(!1);var a=n.filter((function(t,n){return e===t.ID}));t.setState({editRecord:a[0]})},t.handleSubmit=function(e,n,a,r){if(e===n&&a===n)return!1;var c="PUT",i="http://localhost:49713/api/ContactAPI";""===r?(c="POST",r=v()()):i=i+"/"+r;var s={FirstName:e,LastName:n,Email:a,ID:r},l=JSON.stringify(s);fetch(i,{headers:{Accept:"application/json","Content-Type":"application/json"},method:c,body:l}).catch((function(e){return t.handleHTTPPostError(e)}));var d=t.state.characters.filter((function(t,e){return r!==t.ID})),h=[].concat(Object(o.a)(d),[s]);t.setState({characters:h})},t}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var t=this;fetch("http://localhost:49713/api/ContactAPI").then((function(t){return t.json()})).then((function(e){t.setState({characters:e})})).catch((function(e){return t.handleHTTPGetError(e)}))}},{key:"render",value:function(){var t=this.state,e=t.characters,n=t.editRecord,r=e.map((function(t,e){return t}));return Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)(m,{onClickHandler:this.onClickHandler,characterData:r,removeCharacter:this.removeCharacter}),Object(a.jsx)(f,{handleSubmit:this.handleSubmit,editRecord:n})]})}}]),n}(r.Component);n(17);i.a.render(Object(a.jsx)(C,{}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.1ddcd4d8.chunk.js.map